<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Basic Usage</title> <meta name="generator" content="Jekyll v4.3.3" /> <meta property="og:title" content="Basic Usage" /> <meta property="og:locale" content="en_US" /> <link rel="canonical" href="http://localhost:4000/pages/input-controls/basic-usage.html" /> <meta property="og:url" content="http://localhost:4000/pages/input-controls/basic-usage.html" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Basic Usage" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","headline":"Basic Usage","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/assets/images/logo-white-tj.svg"}},"url":"http://localhost:4000/pages/input-controls/basic-usage.html"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="http://localhost:4000/" class="site-title lh-tight"> <div class="site-logo"></div> </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <h2 class="site-subtitle">Visualize.js Components</h2> <p class="site-description"> Modern components for your embedded reporting workflows. </p> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="http://localhost:4000/" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="http://localhost:4000/pages/introduction.html" class="nav-list-link">Introduction</a></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/pages/input-controls/" class="nav-list-link">Input Controls</a><ul class="nav-list "><li class="nav-list-item active"><a href="http://localhost:4000/pages/input-controls/basic-usage.html" class="nav-list-link active">Basic Usage</a></li><li class="nav-list-item "><a href="http://localhost:4000/pages/input-controls/all-ics.html" class="nav-list-link">All Input Controls</a></li><li class="nav-list-item "><a href="http://localhost:4000/pages/input-controls/events.html" class="nav-list-link">Events</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/pages/tools/jv-tools.html" class="nav-list-link">jv-tools</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/pages/tools/loading-vizjs.html" class="nav-list-link">Loading visualize.js</a></li><li class="nav-list-item "><a href="http://localhost:4000/pages/tools/visualize-types.html" class="nav-list-link">Visualize Types in TypeScript</a></li></ul></li><li class="nav-list-item"><a href="http://localhost:4000/pages/architecture.html" class="nav-list-link">Architecture</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="http://localhost:4000/pages/input-controls/">Input Controls</a></li> <li class="breadcrumb-nav-list-item"><span>Basic Usage</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <h1 id="basic-example"> <a href="#basic-example" class="anchor-heading" aria-labelledby="basic-example"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Basic example </h1> <h2 id="installation"> <a href="#installation" class="anchor-heading" aria-labelledby="installation"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Installation </h2> <p>Refer to the <a href="/pages/introduction#Installation">installation</a> guide for the <code class="language-plaintext highlighter-rouge">@jaspersoft/jv-tools</code> and <code class="language-plaintext highlighter-rouge">@jaspersoft/jv-input-controls</code> packages.</p> <h2 id="load-the-visualizejs-into-your-app"> <a href="#load-the-visualizejs-into-your-app" class="anchor-heading" aria-labelledby="load-the-visualizejs-into-your-app"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Load the visualize.js into your app </h2> <p>Once installed, the first step you have to take is to use the jv-tools package to load the visualize.js library into your app.</p> <ol> <li>Import the visualizejsLoader from the @jaspersoft/jv-tools package.</li> <li>Provide the visualizejsLoader a valid URL from where the visualize library should be downloaded. <ol> <li>In case you don’t provide a URL because the visualize.js is already loaded into the window object, then this package will automatically take it from there.</li> <li>If you provide a valid URL, this method will add a new script tag in your app’s document referencing the URL you provided, making the visualize.js library available for your app.</li> <li>visualizejsLoader is a promise so you must execute it and it will return the visualize object (VisualizeFactory). Make sure to store this reference in your app because it will be needed later for logging in the user to JRS.</li> </ol> </li> </ol> <h2 id="logging-in-the-user"> <a href="#logging-in-the-user" class="anchor-heading" aria-labelledby="logging-in-the-user"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Logging in the user </h2> <ul> <li>Now that the visualize.js library is loaded in your app, you have to log in the user to be able to fetch resources to JRS.</li> <li>Use the object returned by the visualizejsLoader (VisualizeFactory) to execute the auth method from visualize.js. Take into consideration that this is a promise, so it’s up to you to handle the success and the error scenarios.</li> <li>Example of the auth object to provide:</li> </ul> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   <span class="p">{</span>
      <span class="nl">auth</span><span class="p">:</span> <span class="p">{</span>
         <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">joeuser</span><span class="dl">"</span><span class="p">,</span>
         <span class="na">password</span><span class="p">:</span> <span class="dl">"</span><span class="s2">joeuser</span><span class="dl">"</span><span class="p">,</span>
         <span class="na">organization</span><span class="p">:</span> <span class="dl">"</span><span class="s2">organization_1</span><span class="dl">"</span><span class="p">,</span>
         <span class="na">locale</span><span class="p">:</span> <span class="dl">"</span><span class="s2">en_US</span><span class="dl">"</span><span class="p">,</span>
         <span class="p">},</span>
   <span class="p">}</span>
</code></pre></div></div> <ul> <li>Once the user is logged in, you’ll get the visualize.js object (more commonly known as <em><strong>v</strong></em>) that is used to interact with the internal API of visualize.js. Make sure to store this reference globally in your app because this will be needed to fetch resources from JRS.</li> </ul> <h2 id="injecting-the-visualizejs-object-into-the-plugin"> <a href="#injecting-the-visualizejs-object-into-the-plugin" class="anchor-heading" aria-labelledby="injecting-the-visualizejs-object-into-the-plugin"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Injecting the visualize.js object into the plugin </h2> <ul> <li>At this point in time, the visualize.js object is ready to interact with JRS. We recommend providing this object to the InputControls Plugin for an easier interaction between JRS and the new Input Controls provided by @jaspersoft/jv-input-control package. <ul> <li>To provide the visualize.js object to the InputControlsPlugin, you have to instantiate an object of this class. E.g.: <code class="language-plaintext highlighter-rouge">const plugin = new InputControls(v)</code>, where ‘v’ is the visualize.js object</li> </ul> </li> <li>you could also provide a second parameter to the class called <code class="language-plaintext highlighter-rouge">config</code>. It has the following structure: <code class="language-plaintext highlighter-rouge">{hostname?: string; username: string; password: string; tenant: string;}</code> You must provide the same parameters as in the <a href="/pages/input-controls/basic-usage#logging-in-the-user">logging in the user section</a> section.</li> </ul> <h2 id="rendering-the-control-panel"> <a href="#rendering-the-control-panel" class="anchor-heading" aria-labelledby="rendering-the-control-panel"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Rendering the control panel </h2> <p>The InputControl class comes shipped with a method: <code class="language-plaintext highlighter-rouge">renderControlPanel</code>. It accepts the following 3 parameters: uri, container, panel definition:</p> <ul> <li><code class="language-plaintext highlighter-rouge">uri</code>. It’s a string referencing to the report from where the input controls will be fetched. E.g.: <em>/public/viz/Adhoc/Ad_Hoc_View_All_filters_Report</em></li> <li><code class="language-plaintext highlighter-rouge">container</code>. This is the containing HTML element where the input controls will be rendered by the InputControl class. It’s up to the user to style the element as he wants. It is <strong>mandatory</strong> the HTML element is available throughout the DOM structure.</li> <li><code class="language-plaintext highlighter-rouge">panel definition</code>. This is the place where you’ll define the look and feel of the new input controls, but also it is the place where you’ll interact with the new Input Controls. It has the following structure: <div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
  <span class="nl">success</span><span class="p">?:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="k">void</span><span class="p">;</span>
  <span class="nl">error</span><span class="p">?:</span> <span class="p">(</span><span class="nx">error</span><span class="p">:</span> <span class="kr">any</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="k">void</span><span class="p">;</span>
  <span class="nl">config</span><span class="p">?:</span> <span class="nx">InputControlUserConfig</span><span class="p">;</span>
  <span class="nl">events</span><span class="p">?:</span> <span class="p">{</span>
    <span class="nx">change</span><span class="p">?:</span> <span class="p">(</span>
    <span class="na">ic</span><span class="p">:</span> <span class="p">{</span> <span class="p">[</span><span class="na">key</span><span class="p">:</span> <span class="kr">string</span><span class="p">]:</span> <span class="kr">any</span><span class="p">[]</span> <span class="p">},</span>
    <span class="na">validationResult</span><span class="p">:</span> <span class="p">{</span> <span class="p">[</span><span class="na">key</span><span class="p">:</span> <span class="kr">string</span><span class="p">]:</span> <span class="kr">string</span> <span class="p">}</span> <span class="o">|</span> <span class="nx">boolean</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">=&gt;</span> <span class="k">void</span><span class="p">;</span>
  <span class="p">};</span>
<span class="p">}</span>
</code></pre></div> </div> </li> <li>For more information about the <code class="language-plaintext highlighter-rouge">config</code>parameter, refer to this <a href="/pages/input-controls/basic-usage#configuration-of-the-input-controls">section</a></li> <li><code class="language-plaintext highlighter-rouge">success?: () =&gt; void</code>. This method will be triggered only once after the input controls are rendered correctly in the HTML element container provided.</li> <li><code class="language-plaintext highlighter-rouge">error?: (error: any) =&gt; void</code>. This method will be triggered if and only if, there is an error while either fetching the input controls or when rendering the input controls in the HTML element container. The most common error case is likely to happen when providing an HTML container that is not visible in the HTML tree.</li> <li><code class="language-plaintext highlighter-rouge">config?</code>. This parameter will help to define the styles of the input controls. Refer to the <a href="/pages/input-controls/basic-usage#configuration-of-the-input-controls">next</a> section for more info about the structure.</li> <li><code class="language-plaintext highlighter-rouge">events?</code>. More information can be found at <a href="/pages/input-controls/events">Events</a></li> </ul> <h2 id="configuration-of-the-input-controls"> <a href="#configuration-of-the-input-controls" class="anchor-heading" aria-labelledby="configuration-of-the-input-controls"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Configuration of the input controls </h2> <p>Each and every input control could be defined by the user in the <code class="language-plaintext highlighter-rouge">config</code> parameter. This parameter is a wrapper that allows the user to define the type of component to render, receive any modification done by the user in the UI, and receive (if any) information about the validity of the values the user could have typed in any of the input controls. The <code class="language-plaintext highlighter-rouge">config</code> parameter has the following structure:</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
  <span class="nx">bool</span><span class="p">?:</span> <span class="p">{</span>
     <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">switch</span><span class="dl">"</span> <span class="o">|</span> <span class="dl">"</span><span class="s2">checkbox</span><span class="dl">"</span><span class="p">;</span>
  <span class="p">};</span>
  <span class="nx">singleValueText</span><span class="p">?:</span> <span class="p">{</span>
     <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">textField</span><span class="dl">"</span><span class="p">;</span>
  <span class="p">};</span>
  <span class="nx">singleValueNumber</span><span class="p">?:</span> <span class="p">{</span>
     <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">number</span><span class="dl">"</span><span class="p">;</span>
  <span class="p">};</span>
  <span class="nx">singleValueDate</span><span class="p">?:</span> <span class="p">{</span>
     <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">default</span><span class="dl">"</span> <span class="o">|</span> <span class="dl">"</span><span class="s2">material</span><span class="dl">"</span><span class="p">;</span>
  <span class="p">};</span>
  <span class="nx">singleValueDatetime</span><span class="p">?:</span> <span class="p">{</span>
     <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">default</span><span class="dl">"</span> <span class="o">|</span> <span class="dl">"</span><span class="s2">material</span><span class="dl">"</span><span class="p">;</span>
  <span class="p">};</span>
  <span class="nx">singleValueTime</span><span class="p">?:</span> <span class="p">{</span>
     <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">default</span><span class="dl">"</span> <span class="o">|</span> <span class="dl">"</span><span class="s2">material</span><span class="dl">"</span><span class="p">;</span>
  <span class="p">};</span>
<span class="p">}</span>
</code></pre></div></div> <p>If you want to see more information about the different types of components for the input controls, refer to this <a href="/pages/input-controls/all-ics">guide</a>.</p> </div> </div> </div> </body> </html>
