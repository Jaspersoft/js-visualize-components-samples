<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="shortcut icon" href="/js-visualize-components-samples/assets/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/js-visualize-components-samples/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="/js-visualize-components-samples/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Events</title> <meta name="generator" content="Jekyll v4.3.3" /> <meta property="og:title" content="Events" /> <meta property="og:locale" content="en_US" /> <link rel="canonical" href="http://localhost:4000/js-visualize-components-samples/pages/input-controls/events.html" /> <meta property="og:url" content="http://localhost:4000/js-visualize-components-samples/pages/input-controls/events.html" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Events" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","headline":"Events","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/js-visualize-components-samples/assets/images/logo-white-js.svg"}},"url":"http://localhost:4000/js-visualize-components-samples/pages/input-controls/events.html"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="http://localhost:4000/js-visualize-components-samples/" class="site-title lh-tight"> <div class="site-logo"></div> </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <h2 class="site-subtitle">Visualize.js Components</h2> <p class="site-description"> Modern components for your embedded reporting workflows. </p> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="http://localhost:4000/js-visualize-components-samples/" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="http://localhost:4000/js-visualize-components-samples/pages/introduction.html" class="nav-list-link">Introduction</a></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/js-visualize-components-samples/pages/input-controls/" class="nav-list-link">Input Controls</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/js-visualize-components-samples/pages/input-controls/basic-usage.html" class="nav-list-link">Basic Usage</a></li><li class="nav-list-item "><a href="http://localhost:4000/js-visualize-components-samples/pages/input-controls/all-ics.html" class="nav-list-link">All Input Controls</a></li><li class="nav-list-item active"><a href="http://localhost:4000/js-visualize-components-samples/pages/input-controls/events.html" class="nav-list-link active">Events</a></li><li class="nav-list-item "><a href="http://localhost:4000/js-visualize-components-samples/pages/input-controls/override-styles.html" class="nav-list-link">Override Styles</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/js-visualize-components-samples/pages/tools/jv-tools.html" class="nav-list-link">jv-tools</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/js-visualize-components-samples/pages/tools/loading-vizjs.html" class="nav-list-link">Loading visualize.js</a></li><li class="nav-list-item "><a href="http://localhost:4000/js-visualize-components-samples/pages/tools/visualize-types.html" class="nav-list-link">Visualize Types in TypeScript</a></li></ul></li><li class="nav-list-item"><a href="http://localhost:4000/js-visualize-components-samples/pages/architecture.html" class="nav-list-link">Architecture</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="http://localhost:4000/js-visualize-components-samples/pages/input-controls/">Input Controls</a></li> <li class="breadcrumb-nav-list-item"><span>Events</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <h1 id="events"> <a href="#events" class="anchor-heading" aria-labelledby="events"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Events </h1> <p>In order to work with user input, you may provide a callback function which is called when certain events occur. Currently we only support change events.</p> <p>When configuring the input controls component, you may provide a JSON object in the events property of your configuration object.</p> <p>See <a href="/js-visualize-components-samples/pages/input-controls/basic-usage#rendering-the-control-panel">Input Controls</a> for more information on configuring the input controls component. In read-only scenarios where you do not wish to process user input, you may omit this configuration.</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">events</span><span class="p">?:</span> <span class="p">{</span>
    <span class="nx">change</span><span class="p">?:</span> <span class="p">(</span>
        <span class="na">ic</span><span class="p">:</span> <span class="p">{</span> <span class="p">[</span><span class="na">key</span><span class="p">:</span> <span class="nx">string</span><span class="p">]:</span> <span class="nx">any</span><span class="p">[]</span> <span class="p">},</span>
        <span class="na">validationResult</span><span class="p">:</span> <span class="p">{</span> <span class="p">[</span><span class="na">key</span><span class="p">:</span> <span class="nx">string</span><span class="p">]:</span> <span class="nx">string</span> <span class="p">}</span> <span class="o">|</span> <span class="nx">boolean</span><span class="p">,</span>
        <span class="p">)</span> <span class="o">=&gt;</span> <span class="k">void</span><span class="p">;</span>
    <span class="p">};</span>
</code></pre></div></div> <h2 id="parameters"> <a href="#parameters" class="anchor-heading" aria-labelledby="parameters"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Parameters </h2> <p>The <code class="language-plaintext highlighter-rouge">events.change</code> property accepts a callback which is given the following parameters when called:</p> <ul> <li><code class="language-plaintext highlighter-rouge">ic</code>: contains a representation of all the input controls that are being rendered in the HTML element container. The format of the object matches the format used by visualize.js when working with input controls. Keys are input control IDs and values are an array of values. For example: <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
</span><span class="nl">"column_boolean_1"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="kc">false</span><span class="p">],</span><span class="w">
</span><span class="nl">"column_string_1"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"string value"</span><span class="p">],</span><span class="w">
</span><span class="nl">"column_date_1"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"2009-09-12"</span><span class="p">],</span><span class="w">
</span><span class="nl">"column_time_1"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"23:44:21"</span><span class="p">],</span><span class="w">
</span><span class="nl">"column_timestamp_1"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"2014-09-12T15:46:18"</span><span class="p">],</span><span class="w">
</span><span class="nl">"id_1"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"1"</span><span class="p">],</span><span class="w">
</span><span class="nl">"column_float_1"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"0.33"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div> </div> </li> <li><code class="language-plaintext highlighter-rouge">validationResult</code>: contains any validation errors that may be present. The keys of this object represent the input control IDs while the value will either be an empty array when no validation errors occur, or a string value with a user-readable message regarding the validation failure. When all controls have valid input, this parameter will be a boolean value: <code class="language-plaintext highlighter-rouge">false</code>.</li> </ul> <p>For example:</p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"column_time_1"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
  </span><span class="nl">"column_timestamp_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Verify the date is before or exactly 2014-09-11T15:00:00."</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <h5 id="notes"> <a href="#notes" class="anchor-heading" aria-labelledby="notes"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong><em>Notes</em></strong> </h5> <ul> <li>In case all values for all input controls are valid, the param <code class="language-plaintext highlighter-rouge">validationResult</code> will be a boolean value <code class="language-plaintext highlighter-rouge">false</code>.</li> <li>This is an event that is being triggered by the InputControl class. This is because the InputControl class is a controlled component. This means that the InputControl class will handle the state of the input controls and will update the state of the input controls when the user interacts with them. This is why the InputControl class will trigger the <code class="language-plaintext highlighter-rouge">change</code> event every time the state of the input controls changes.</li> </ul> <h2 id="handling-validations"> <a href="#handling-validations" class="anchor-heading" aria-labelledby="handling-validations"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Handling validations </h2> <p>To handle validations on the developer side, you have to use the <a href="/js-visualize-components-samples/pages/input-controls/events">events.change</a> method when calling the <code class="language-plaintext highlighter-rouge">renderControlPanel</code>. This method will return a second parameter that contains all validations. E.g.:</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nx">plugin</span><span class="p">.</span><span class="nx">renderControlPanel</span><span class="p">(</span>
      <span class="dl">'</span><span class="s1">/My/URI</span><span class="dl">'</span><span class="p">,</span>
      <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">my-container</span><span class="dl">"</span><span class="p">),</span>
      <span class="p">{</span>
        <span class="na">events</span><span class="p">:</span> <span class="p">{</span>
          <span class="na">change</span><span class="p">:</span> <span class="p">(</span><span class="nx">ics</span><span class="p">,</span> <span class="nx">validationResult</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
              <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">ics =&gt; </span><span class="dl">"</span><span class="p">,</span> <span class="nx">ics</span><span class="p">);</span>
              <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">validationResult =&gt; </span><span class="dl">"</span><span class="p">,</span> <span class="nx">validationResult</span><span class="p">);</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">)</span>
</code></pre></div></div> <h3 id="what-to-expect-in-case-the-input-control-is-invalid"> <a href="#what-to-expect-in-case-the-input-control-is-invalid" class="anchor-heading" aria-labelledby="what-to-expect-in-case-the-input-control-is-invalid"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> What to expect in case the input control is invalid </h3> <p>For every change that happens in the input control, the events.change method will be executed. Suppose you have defined a mandatory text input control. This means the input control must have a value. Let’s assume the user has not entered any value in the input control. In this case, the validationResult will contain:</p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="nl">"id_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Specify a valid value for type number."</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <p>where:</p> <ul> <li>id_1: is the id of the input control</li> <li>Specify a valid value for type number: is the message that is displayed in the UI.</li> </ul> <p>In case all values for all input controls are valid, the param <code class="language-plaintext highlighter-rouge">validationResult</code> will be a boolean value <code class="language-plaintext highlighter-rouge">false</code>.</p> <h2 id="handling-errors"> <a href="#handling-errors" class="anchor-heading" aria-labelledby="handling-errors"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Handling errors </h2> <p>To handle errors, you can use the <code class="language-plaintext highlighter-rouge">error</code> property when calling the renderControlPanel method. This method will return an error object when trying to render the input controls, in case of an error. E.g.:</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nx">plugin</span><span class="p">.</span><span class="nx">renderControlPanel</span><span class="p">(</span>
      <span class="dl">'</span><span class="s1">/My/URI</span><span class="dl">'</span><span class="p">,</span>
      <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">my-container</span><span class="dl">"</span><span class="p">),</span>
      <span class="p">{</span>
        <span class="na">error</span><span class="p">:</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">error =&gt; </span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">)</span>
</code></pre></div></div> <h3 id="when-the-container-provided-is-not-visible"> <a href="#when-the-container-provided-is-not-visible" class="anchor-heading" aria-labelledby="when-the-container-provided-is-not-visible"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> When the container provided is not visible </h3> <p>A possible situation is when the container provided is not visible. In this case, the error object will contain:</p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"createRoot(...): Target container is not a DOM element"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <h3 id="when-the-report-url-is-not-found-in-the-jrs-server"> <a href="#when-the-report-url-is-not-found-in-the-jrs-server" class="anchor-heading" aria-labelledby="when-the-report-url-is-not-found-in-the-jrs-server"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> When the report URL is not found in the JRS server. </h3> <p>Another possible situation is when the report URL is not found in the JRS server. In this case, the error object will contain:</p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Resource URI:&lt;URI_of_the_report&gt; Type:com.jaspersoft.jasperserver.api.metadata.common.domain.InputControlsContainer not found."</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errorCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"resource.not.found"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"parameters"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"URI:&lt;URI_of_the_report&gt; Type:com.jaspersoft.jasperserver.api.metadata.common.domain.InputControlsContainer"</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> </div> </div> </div> </body> </html>
