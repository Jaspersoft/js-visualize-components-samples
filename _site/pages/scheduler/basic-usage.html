<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="shortcut icon" href="/js-visualize-components-samples/assets/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/js-visualize-components-samples/assets/css/just-the-docs-default.css"> <!--The following CSS file corresponds to the jv-ui.css file. However, it is generated under the name of index.css--> <link rel="stylesheet" href="/js-visualize-components-samples/assets/js/build/assets/index.css"> <script type="text/javascript" src="/js-visualize-components-samples/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Basic Usage</title> <meta name="generator" content="Jekyll v4.3.3" /> <meta property="og:title" content="Basic Usage" /> <meta property="og:locale" content="en_US" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Basic Usage" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","headline":"Basic Usage","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"/js-visualize-components-samples/assets/images/logo-color-js.svg"}},"url":"/js-visualize-components-samples/pages/scheduler/basic-usage.html"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="/js-visualize-components-samples/" class="site-title lh-tight"> <div class="site-logo"></div> </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <h2 class="site-subtitle">Visualize.js Components</h2> <p class="site-description"> Modern components for your embedded reporting workflows. </p> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/js-visualize-components-samples/" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="/js-visualize-components-samples/pages/introduction.html" class="nav-list-link">Introduction</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/js-visualize-components-samples/pages/input-controls/" class="nav-list-link">Input Controls</a><ul class="nav-list "><li class="nav-list-item "><a href="/js-visualize-components-samples/pages/input-controls/basic-usage.html" class="nav-list-link">Basic Usage</a></li><li class="nav-list-item "><a href="/js-visualize-components-samples/pages/input-controls/all-ics.html" class="nav-list-link">All Input Controls</a></li><li class="nav-list-item "><a href="/js-visualize-components-samples/pages/input-controls/events.html" class="nav-list-link">Events</a></li><li class="nav-list-item "><a href="/js-visualize-components-samples/pages/input-controls/override-styles.html" class="nav-list-link">Override Styles</a></li><li class="nav-list-item "><a href="/js-visualize-components-samples/pages/input-controls/params.html" class="nav-list-link">Overriding default values</a></li><li class="nav-list-item "><a href="/js-visualize-components-samples/pages/input-controls/live-sample.html" class="nav-list-link">Live Sample</a></li></ul></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/js-visualize-components-samples/pages/scheduler/" class="nav-list-link">Scheduler</a><ul class="nav-list "><li class="nav-list-item active"><a href="/js-visualize-components-samples/pages/scheduler/basic-usage.html" class="nav-list-link active">Basic Usage</a></li><li class="nav-list-item "><a href="/js-visualize-components-samples/pages/scheduler/configuration.html" class="nav-list-link">Configuration</a></li><li class="nav-list-item "><a href="/js-visualize-components-samples/pages/scheduler/events.html" class="nav-list-link">Events</a></li><li class="nav-list-item "><a href="/js-visualize-components-samples/pages/scheduler/override-styles.html" class="nav-list-link">Override Styles</a></li><li class="nav-list-item "><a href="/js-visualize-components-samples/pages/scheduler/demo.html" class="nav-list-link">Demo</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/js-visualize-components-samples/pages/tools/jv-tools.html" class="nav-list-link">JV tools</a><ul class="nav-list "><li class="nav-list-item "><a href="/js-visualize-components-samples/pages/tools/loading-vizjs.html" class="nav-list-link">Loading visualize.js</a></li><li class="nav-list-item "><a href="/js-visualize-components-samples/pages/tools/visualize-types.html" class="nav-list-link">Visualize Types in TypeScript</a></li></ul></li><li class="nav-list-item"><a href="/js-visualize-components-samples/pages/architecture.html" class="nav-list-link">Architecture</a></li></ul> </nav> <footer class="site-footer"> <div class="socials"> <a href="https://twitter.com/Jaspersoft" class="social" alt="twitter" target="_blank"><img src="/js-visualize-components-samples/assets/images/social-round-tw.svg"></a> <a href="https://www.linkedin.com/company/jaspersoft/" class="social" alt="linkedin" target="_blank"><img src="/js-visualize-components-samples/assets/images/social-round-li.svg"></a> <a href="https://www.youtube.com/channel/UCsoRjyDOZAlxD9v_Mhup86g" class="social" alt="youtube" target="_blank"><img src="/js-visualize-components-samples/assets/images/social-round-yt.svg"></a> </div> <!--This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a theme for Jekyll.--> </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="/js-visualize-components-samples/pages/scheduler/">Scheduler</a></li> <li class="breadcrumb-nav-list-item"><span>Basic Usage</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <h1 id="basic-example"> <a href="#basic-example" class="anchor-heading" aria-labelledby="basic-example"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Basic example </h1> <h2 id="changes-in-jrs"> <a href="#changes-in-jrs" class="anchor-heading" aria-labelledby="changes-in-jrs"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Changes in JRS </h2> <ol> <li>Navigate to Path_to_tomcat/webapps/jasperserver-pro/WEB-INF/applicationContext-security-pro-web.xml</li> <li>Add the following entries to <code class="language-plaintext highlighter-rouge">&lt;property name="allowedHeaders"&gt;</code> property: <br /> <code class="language-plaintext highlighter-rouge">&lt;value&gt;Fetch-Csrf-Token&lt;/value&gt;</code> <br /> <code class="language-plaintext highlighter-rouge">&lt;value&gt;Owasp_csrftoken&lt;/value&gt;</code></li> </ol> <h2 id="configure-the-default-styles"> <a href="#configure-the-default-styles" class="anchor-heading" aria-labelledby="configure-the-default-styles"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Configure the default styles </h2> <p>At the top of your main typescript or javascript file, import the CSS file that will allow you to use the default styles for the scheduler:</p> <div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="dl">"</span><span class="s2">@jaspersoft/jv-ui-components/dist/jv-ui.css</span><span class="dl">"</span><span class="p">;</span>
</code></pre></div></div> <p>Consequently, import the following file to configure the previous CSS file to be used in the Scheduler UI component only:</p> <div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="dl">"</span><span class="s2">@jaspersoft/jv-ui-components/material-ui/JVMuiClassNameSetup</span><span class="dl">"</span><span class="p">;</span>
</code></pre></div></div> <p>Having this configuration enables you to use the default styles for the Scheduler UI components. Also, it won’t affect the styles of your application, it will only affect the styles of the scheduler.</p> <h2 id="load-visualizejs"> <a href="#load-visualizejs" class="anchor-heading" aria-labelledby="load-visualizejs"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Load visualize.js </h2> <ul> <li>Import the visualizejsLoader function from the <code class="language-plaintext highlighter-rouge">@jaspersoft/jv-tools</code> package.</li> </ul> <div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span>
    <span class="nx">Authentication</span><span class="p">,</span>
    <span class="nx">BaseInputControlProps</span><span class="p">,</span>
    <span class="nx">VisualizeClient</span><span class="p">,</span>
    <span class="nx">VisualizeFactory</span><span class="p">,</span>
    <span class="nx">visualizejsLoader</span><span class="p">,</span>
<span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@jaspersoft/jv-tools</span><span class="dl">"</span><span class="p">;</span>
</code></pre></div></div> <ul> <li>Provide the <code class="language-plaintext highlighter-rouge">visualizejsLoader</code> a valid URL from where the visualize library should be downloaded.</li> <li>In case you don’t provide a URL because the visualize.js is already loaded into the window object, then this package will automatically take it from there.</li> <li>If you provide a valid URL, this method will add a new script tag in your app’s document referencing the URL you provided, making the visualize.js library available for your app.</li> <li><code class="language-plaintext highlighter-rouge">visualizejsLoader</code> is a promise so you must execute it and it will return the visualize object (VisualizeFactory). Make sure to store this reference in your app because it will be needed later for logging in the user to JRS.</li> <li>More details about this loading can be found here: <a href="/js-visualize-components-samples/pages/tools/loading-vizjs">Loading visualize.js</a>.</li> </ul> <h2 id="authentication"> <a href="#authentication" class="anchor-heading" aria-labelledby="authentication"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Authentication </h2> <ul> <li>Now that the visualize.js library is loaded in your app, you must authenticate with JasperReports Server.</li> <li>Use the object returned by the <code class="language-plaintext highlighter-rouge">visualizejsLoader</code> (VisualizeFactory) to execute the auth method from visualize.js. As this is a promise, handling the success and error cases is an exercise for the user.</li> <li>Example authentication object:</li> </ul> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   <span class="p">{</span>
      <span class="nl">auth</span><span class="p">:</span> <span class="p">{</span>
         <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">joeuser</span><span class="dl">"</span><span class="p">,</span>
         <span class="na">password</span><span class="p">:</span> <span class="dl">"</span><span class="s2">joeuser</span><span class="dl">"</span><span class="p">,</span>
         <span class="na">organization</span><span class="p">:</span> <span class="dl">"</span><span class="s2">organization_1</span><span class="dl">"</span><span class="p">,</span>
         <span class="na">locale</span><span class="p">:</span> <span class="dl">"</span><span class="s2">en_US</span><span class="dl">"</span><span class="p">,</span>
         <span class="p">},</span>
   <span class="p">}</span>
</code></pre></div></div> <ul> <li>After authenticating the visualize.js object (“V object”) is returned. This is used to interact with the internal API of visualize.js. Store a reference to this object in a global scope to perform other operations with visualize.js such as loading a report viewer.</li> </ul> <p>More info about the JVTools can be found in this <a href="/js-visualize-components-samples/pages/tools/loading-vizjs">guide</a>.</p> <h2 id="rendering-the-scheduler-plugin"> <a href="#rendering-the-scheduler-plugin" class="anchor-heading" aria-labelledby="rendering-the-scheduler-plugin"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Rendering the scheduler plugin </h2> <h3 id="the-javascript-approach"> <a href="#the-javascript-approach" class="anchor-heading" aria-labelledby="the-javascript-approach"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> The JavaScript approach </h3> <h4 id="import"> <a href="#import" class="anchor-heading" aria-labelledby="import"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Import </h4> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">renderScheduler</span><span class="p">,</span> <span class="nx">SchedulerConfig</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@jaspersoft/jv-scheduler</span><span class="dl">"</span><span class="p">;</span>
</code></pre></div></div> <p>Scheduler component has a method <code class="language-plaintext highlighter-rouge">renderScheduler</code> that accepts 3 parameters: container, visualize object, scheduler configuration. <code class="language-plaintext highlighter-rouge">SchedulerConfig</code> is a typing for scheduler configuration object.</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">renderScheduler</span><span class="p">(</span>
    <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">my-container</span><span class="dl">"</span><span class="p">),</span>
    <span class="nx">visualize_object</span><span class="p">,</span> 
    <span class="nx">schedulerUIConfig</span><span class="p">,</span>
<span class="p">);</span>

</code></pre></div></div> <ul> <li><code class="language-plaintext highlighter-rouge">container</code>: (DivElement) &lt;div&gt; element from the DOM where the scheduler should be rendered</li> <li><code class="language-plaintext highlighter-rouge">visualize_object</code>: (VisualizeClient) visualization object</li> <li> <p><code class="language-plaintext highlighter-rouge">schedulerUIConfig</code>: (SchedulerConfig) object containing configuration for scheduler look and feel and event handling. <a href="/js-visualize-components-samples/pages/scheduler/configuration.html#configuration">reference</a></p> </li> <li>For more information about the <code class="language-plaintext highlighter-rouge">scheduler configuration</code> parameter, refer to this <a href="/js-visualize-components-samples/pages/scheduler/configuration.html#configuration">section</a></li> </ul> <h3 id="the-react-approach"> <a href="#the-react-approach" class="anchor-heading" aria-labelledby="the-react-approach"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> The React approach </h3> <h4 id="import-1"> <a href="#import-1" class="anchor-heading" aria-labelledby="import-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Import </h4> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">Scheduler</span><span class="p">,</span> <span class="nx">SchedulerConfigProps</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@jaspersoft/jv-scheduler</span><span class="dl">"</span><span class="p">;</span>
</code></pre></div></div> <p>The package <code class="language-plaintext highlighter-rouge">@jaspersoft/jv-scheduler</code> provides a React component that uses the Scheduler methods to render the Scheduler UI component. This component is called <code class="language-plaintext highlighter-rouge">Scheduler</code> and can be used as follows:</p> <div class="language-tsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">&lt;</span><span class="nc">Scheduler</span>
    <span class="na">schedulerUIConfig</span><span class="p">=</span><span class="si">{</span><span class="nx">schedulerUIConfig</span><span class="si">}</span>
    <span class="na">visualize</span><span class="p">=</span><span class="si">{</span><span class="nx">visualize</span><span class="si">}</span>
<span class="p">/&gt;</span>
</code></pre></div></div> <p>The attributes the <code class="language-plaintext highlighter-rouge">Scheduler</code> component receives are very similar to what has been explained in the <a href="/js-visualize-components-samples/pages/scheduler/basic-usage#the-javascript-approach">JavaScript approach</a>. The only difference is that it isn’t needed to provide the HTML element because the React component will render the scheduler in the DOM.</p> <p>More info about the <code class="language-plaintext highlighter-rouge">vContainer</code> can be found in this <a href="/js-visualize-components-samples/pages/tools/loading-vizjs.html#loading-visualizejs">guide</a>.</p> </div> </div> </div> </body> </html>
